# RCADelegation Human Protocol v1.0
（人間のための運用ルール）

本ドキュメントは、RCADelegation（AI-RCA委譲）を
**形骸化させず、事故らせず、前に進めるための**
人間側の振る舞いルールを定義する。

思想説明は行わない。
ここに書いてあることだけを守ればよい。

---

## 0. 役割の固定（前提）

### Parent RCA（人間）
- RCADelegation の作成・更新・停止を行う唯一の責任主体
- 署名を行う
- 事故時に止める・戻す・終わらせる判断を行う

### Delegated RCA（AI）
- **署名のみを行う**
- マージ権限を持たない
- 例外判断をしない
- 憲法（マニフェスト）を超えた行動をしない

### Generator（生成AI）
- PRを出すだけ
- 判断主体ではない
- RCAではない

---

## 1. ルールは「広げない」

### ルール
- 「今回だけOK」「ここは大丈夫そう」は禁止
- スコープ拡張・例外は **必ず新しいRCADelegation** として定義する

### 理由
- 口頭例外は必ず恒久化して崩壊する
- 例外は**運用ではなく憲法改正**

---

## 2. idk-lamp（委譲停止）の点灯条件

以下のいずれかが発生したら、**即 idk-lamp を点灯**し、
RCADelegation を `pause` または `revoke` する。

- `risk_budget` が安全域を下回った
- `revert_by_human` が発生した
- 禁止ノード・禁止属性・禁止パターンが検出された
- 「誰が承認したか」が追えない変更が混入した

※ 迷ったら点灯する  
※ 点灯は失敗ではない

---

## 3. 消灯条件（再開条件）

idk-lamp が点灯したら、人間がやることは以下の3つだけ。

1. **事実確認**
   - PR / diff / 署名 / CIログを確認
   - 推測や感想を入れない

2. **封じ込め**
   - revert または revoke で被害を止める
   - 「様子を見る」はしない

3. **再発防止**
   - ルール不足 → マニフェストを更新
   - 適合しない → その委譲を終了（revoke）

※ 反省会はしない  
※ 次の憲法を1行でも増やすことが再発防止

---

## 4. Parent RCA の署名ルール（必須）

`lifecycle.command` を変更する場合、必ず以下を残す。

- **理由**（1行で）
- **期限**（いつまで）
- **再開条件**（何が満たされたら戻すか）

### 例
- 理由：AST schema violation が連続発生
- 期限：24h
- 再開条件：辞書ハッシュ更新 + 全テスト通過

---

## 5. 成功時でもログを見る

### ルール
- 週1回、または50件ごとに以下を確認する

確認項目：
- どの属性で変更が集中しているか
- deny によく引っかかっているポイント
- diff量が増え始めていないか

目的：
- 改善ではない
- **まだ委譲してよい状態かの確認**

---

## 6. 委譲してはいけない領域

以下は **このRCADelegationの対象外**。
必ず人間RCAが直接判断・署名する。

- 課金・契約・規約に関わる文言
- セキュリティ警告・注意喚起
- 「削除」「送信」「同意」など不可逆操作を誘導する文言

必要なら、別のRCADelegationとして切り出す。

---

## 7. 最後の原則（これだけ覚えておけばよい）

- **ランプが点いたら止める**
- **前に進むには憲法を変えるか、委譲をやめる**

以上。
